meta:
  role: navigation_index
  version: 1.0
  status: draft

schema:
  type: object
  required: [meta, documents]
  properties:
    meta:
      type: object
      required: [role, version]
      properties:
        role: {type: string}
        version: {type: number}
        status: {type: string}
    documents:
      type: array
      items:
        type: object
        required: [id, path, role]
        properties:
          id: {type: string}
          path: {type: string}
          role: {type: string}

fields:
  - path: meta.role
    purpose: 文档角色标识
    type: string
    required: true
    default: navigation_index
  - path: meta.version
    purpose: 模板版本
    type: number
    required: true
    default: 1.0
  - path: meta.status
    purpose: 文档状态
    type: string
    required: false
    default: draft
  - path: documents[].id
    purpose: 文档编号
    type: string
    required: true
    default: "0-1"
  - path: documents[].path
    purpose: 文档路径
    type: string
    required: true
    default: ""
  - path: documents[].role
    purpose: 文档角色
    type: string
    required: true
    default: ""

documents:
  - {id: "0-1", path: "30_project/docs/0-source/raw/structured/0-1_source_origin.yaml", role: "source_origin"}
  - {id: "0-2", path: "30_project/docs/0-source/raw/structured/0-2_world_rules.yaml", role: "world_rules"}
  - {id: "0-3", path: "30_project/docs/0-source/raw/structured/0-3_assets_entities.yaml", role: "assets_entities"}
  - {id: "0-4", path: "30_project/docs/0-source/raw/structured/0-4_visual_direction.yaml", role: "visual_direction"}
  - {id: "0-5", path: "30_project/docs/0-source/raw/structured/0-5_references_constraints.yaml", role: "references_constraints"}

  - {id: "1-1", path: "30_project/docs/1_story/script_breakdown_v1.yaml", role: "script_breakdown"}
  - {id: "1-2", path: "30_project/docs/1_story/1-2_segment_structure.yaml", role: "segment_structure"}

  - {id: "2-1", path: "30_project/docs/2_layout/_artifacts/inputs/2-1_cinematic_intent_v1.yaml", role: "cinematic_intent"}
  - {id: "2-2", path: "30_project/docs/2_layout/2-2_layout_freeze.yaml", role: "layout_freeze"}

  - {id: "2A-1", path: "30_project/docs/2_audio/_artifacts/audio_plan_v1.yaml", role: "audio_plan"}
  - {id: "2A-2", path: "30_project/docs/2_audio/_artifacts/prompt_packs/dialogue_vo_prompt_pack_v1.yaml", role: "audio_prompts"}
  - {id: "2A-3", path: "30_project/docs/2_audio/_artifacts/reports/audio_review_v1.md", role: "audio_review"}

  - {id: "5-1", path: "30_project/docs/5_color/_artifacts/reports/color_qc_v1.md", role: "color_qc"}
  - {id: "5-2", path: "30_project/docs/5_color/_artifacts/reports/color_review_v1.md", role: "color_review"}

  - {id: "4-1", path: "30_project/docs/2_layout/_artifacts/inputs/2-1_cinematic_intent_v1.yaml", role: "cinematic_intent"}
  - {id: "4-2", path: "30_project/docs/2_layout/2-2_layout_freeze.yaml", role: "layout_freeze"}

example:
  meta: {role: navigation_index, version: 1.0, status: draft}
  documents:
    - {id: "0-1", path: "30_project/docs/0-source/raw/structured/0-1_source_origin.yaml", role: "source_origin"}
    - {id: "1-1", path: "30_project/docs/1_story/script_breakdown_v1.yaml", role: "script_breakdown"}
    - {id: "2-2", path: "30_project/docs/2_layout/2-2_layout_freeze.yaml", role: "layout_freeze"}
