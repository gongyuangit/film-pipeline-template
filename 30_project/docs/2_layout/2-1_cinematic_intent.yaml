meta:
  role: cinematic_intent
  version: 1.0
  status: draft

schema:
  type: object
  required: [meta, inputs, content]
  properties:
    meta:
      type: object
      required: [role, version]
      properties:
        role: {type: string}
        version: {type: number}
        status: {type: string}
    inputs:
      type: object
      required: [from_docs]
      properties:
        from_docs:
          type: array
          items: {type: string}
    content:
      type: object
      required: [intent_summary, shot_intents]
      properties:
        intent_summary:
          type: string
        shot_intents:
          type: array
          items:
            type: object
            required: [shot, viewing_goal, emphasis, avoid]
            properties:
              shot: {type: string}
              viewing_goal: {type: string}
              emphasis:
                type: array
                items: {type: string}
              avoid:
                type: array
                items: {type: string}

fields:
  - path: meta.role
    purpose: 文档角色
    type: string
    required: true
    default: cinematic_intent
  - path: meta.version
    purpose: 模板版本
    type: number
    required: true
    default: 1.0
  - path: meta.status
    purpose: 文档状态
    type: string
    required: false
    default: draft
  - path: inputs.from_docs
    purpose: 依赖的上游文档
    type: array[string]
    required: true
    default: ["script_breakdown_v1"]
  - path: content.intent_summary
    purpose: 概括的叙事/视觉意图
    type: string
    required: true
    default: ""
  - path: content.shot_intents[].shot
    purpose: 镜头编号
    type: string
    required: true
    default: "shot001"
  - path: content.shot_intents[].viewing_goal
    purpose: 主要观感目标
    type: string
    required: true
    default: ""
  - path: content.shot_intents[].emphasis
    purpose: 强调元素
    type: array[string]
    required: true
    default: []
  - path: content.shot_intents[].avoid
    purpose: 避免元素
    type: array[string]
    required: true
    default: []

content:
  intent_summary: "保持工业质感、冷暖对比，并让摄像方向与节奏维持一致，避免多余动作。"
  shot_intents:
    - shot: "shot001"
      viewing_goal: "建立主要角色的紧张状态"
      emphasis: ["光影对比", "角色的手势"]
      avoid: ["多余布景反光", "过度摇摄"]
    - shot: "shot002"
      viewing_goal: "通过远景展示城市氛围与节奏"
      emphasis: ["对角线构图", "机械纹理"]
      avoid: ["过度晃动"]

example:
  meta: {role: cinematic_intent, version: 1.0, status: draft}
  inputs:
    from_docs: ["script_breakdown_v1"]
  content:
    intent_summary: "以冷暖对比突出工业张力，镜头移动保持方向一致，使情绪逐渐上升。"
    shot_intents:
      - shot: "shot001"
        viewing_goal: "说明角色在控制室的焦灼"
        emphasis: ["冷色光", "手部慢动作"]
        avoid: ["闪烁灯光", "手持不稳"]
      - shot: "shot002"
        viewing_goal: "展现外部世界的节奏"
        emphasis: ["城市线条", "背景对称"]
        avoid: ["轨道偏离"]
