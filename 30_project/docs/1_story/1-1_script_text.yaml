meta:
  role: script_text
  version: 1.0
  status: draft

schema:
  type: object
  required: [meta, content]
  properties:
    meta:
      type: object
      required: [role, version]
      properties:
        role: {type: string}
        version: {type: number}
        status: {type: string}
    content:
      type: object
      required: [source_type, scenes]
      properties:
        source_type:
          type: string
          enum: [treatment, outline, script]
        scenes:
          type: array
          items:
            type: object
            required: [scene_id, text]
            properties:
              scene_id: {type: string}
              text: {type: string}

fields:
  - path: meta.role
    purpose: 文档角色标识
    type: string
    required: true
    default: script_text
  - path: meta.version
    purpose: 模板版本
    type: number
    required: true
    default: 1.0
  - path: meta.status
    purpose: 文档状态
    type: string
    required: false
    default: draft
  - path: content.source_type
    purpose: 输入文本类型
    type: string
    required: true
    default: treatment
  - path: content.scenes[].scene_id
    purpose: 场次编号
    type: string
    required: true
    default: "scene001"
  - path: content.scenes[].text
    purpose: 场次正文或概要
    type: string
    required: true
    default: ""

content:
  source_type: "treatment"
  scenes: []

example:
  meta: {role: script_text, version: 1.0, status: draft}
  content:
    source_type: "outline"
    scenes:
      - scene_id: "scene001"
        text: "段落式叙述占位"
