meta:
  role: layout_prompts
  version: 1.0
  status: draft

schema:
  type: object
  required: [meta, prompt, output_schema]
  properties:
    meta:
      type: object
      required: [role, version]
      properties:
        role: {type: string}
        version: {type: number}
        status: {type: string}
    prompt:
      type: object
      required: [positive, negative]
      properties:
        positive: {type: string}
        negative: {type: string}
    output_schema:
      type: object
      required: [shots]
      properties:
        shots:
          type: array
          items:
            type: object
            required: [shot, framing, camera, spatial]
            properties:
              shot: {type: string}
              framing: {type: object}
              camera: {type: object}
              spatial: {type: object}

fields:
  - path: meta.role
    purpose: 文档角色标识
    type: string
    required: true
    default: layout_prompts
  - path: meta.version
    purpose: 模板版本
    type: number
    required: true
    default: 1.0
  - path: meta.status
    purpose: 文档状态
    type: string
    required: false
    default: draft
  - path: prompt.positive
    purpose: 正向提示词模板
    type: string
    required: true
    default: ""
  - path: prompt.negative
    purpose: 负向提示词模板
    type: string
    required: true
    default: ""
  - path: output_schema.shots
    purpose: 期望输出字段结构
    type: array[object]
    required: true
    default: []

prompt:
  positive: "生成镜头构图与运动方案，输出 YAML。"
  negative: "避免描述具体工具与平台。"
output_schema:
  shots:
    - shot: "shot001"
      framing: {shot_size: "MS", composition: "center", subject_position: "center"}
      camera: {movement: "static", duration_sec: 3.0}
      spatial: {environment_id: "env001", key_objects: [], continuity_notes: []}

example:
  meta: {role: layout_prompts, version: 1.0, status: draft}
  prompt:
    positive: "按镜头编号给出构图与运动结构"
    negative: "不涉及制作细节"
  output_schema:
    shots:
      - shot: "shot001"
        framing: {shot_size: "WS", composition: "leading", subject_position: "right"}
        camera: {movement: "pan", duration_sec: 4.0}
        spatial: {environment_id: "env001", key_objects: ["主体"], continuity_notes: []}
